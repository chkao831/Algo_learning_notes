```
在两数之差问题中，我们因为不能使用哈希表，因此我们用二分搜索的方法来查找所需的元素是否在数组中，因此所花费的时间是O(nlogn)的。但是在面试中，这样的解法仍然无法及格，接下来我们就来看看如何用双指针在O(n)的时间中解决这个问题吧。

因为数组是已经有序的，因此我们只需要O(n)的时间即可解决这个问题。但是这里有一个小问题，老师在视频中没有详细讲。为什么我们要让target取绝对值呢？如果不取会发生什么情况？如果取了答案会不会错？
这里如果我们不将target置为其绝对值，会出现无法获得target的情况。因为我们的双指针移动过程中判断的都nums[j] - nums[i] 是否等于target。而如果j > i，那么nums[j] >= nums[i]，nums[j] - nums[i] 一定不与target相等，因此会找不到解。
但是，当我们target为负数，取绝对值之后，我们能用跟target为正数一样的办法来做嘛？大家先结合题面来思考一下这个问题。

可见nums = [2,7], target = 5, 返回值为[2,7]，但是如果说nums=[2,7], target = -5, 根据题意返回值应该是什么呢？
[2, 7]

所以在这里我们就会发现，遇到target为负数的情况，我们只需要对target取绝对值，然后按target为正数做就没有问题。


```
CH38
```
可见，万变不离其中，只要我们用好模版，同向双指针的问题就会变得非常简单。在字符串中要注意的时候就是要好好考虑双指针代表的区间，以及有效的部分的子串数量、长度等边界条件。
接下来我们来看一下另一个会运用到同向双指针的数据结构 —— 链表。

链表中点问题
问题描述

求一个链表的中点
问题分析

这个问题可能大家会觉得，WTF 这么简单有什么好做的？你可能的想法是：
先遍历一下整个链表，求出长度 L，然后再遍历一下链表找到第 L/2 的那个位置的节点。
但是在你抛出这个想法之后，面试官会追问你：如果只允许遍历链表一次怎么办？
可以看到这种 Follow up 并不是让你优化算法的时间复杂度，而是严格的限制了你遍历整个链表的次数。你可能会认为，这种优化有意义么？事实上是很有意义的。因为遍历一次这种场景，在真实的工程环境中会经常遇到，也就是我们常说的数据流问题（Data Stream Problem）。
数据流问题 Data Stream Problem

所谓的数据流问题，就是说，你需要设计一个在线系统，这个系统不断的接受一些数据，并维护这些数据的一些信息。比如这个问题就是在数据流中维护中点在哪儿。（维护中点的意思就是提供一个接口，来获取中点）
类似的一些数据流问题还有：
数据流中位数 http://www.lintcode.com/problem/data-stream-median/
数据流最大 K 项 http://www.lintcode.com/problem/top-k-largest-numbers-ii/
数据流高频 K 项 http://www.lintcode.com/problem/top-k-frequent-words-ii/
这类问题的特点都是，你没有机会第二次遍历所有数据。上述问题部分将在《九章算法强化班》中讲解。

用双指针算法解决链表中点问题

我们可以使用双指针算法来解决链表中点的问题，更具体的，我们可以称之为快慢指针算法。该算法如下：
Java:
ListNode slow = head, fast = head.next;
while (fast != null && fast.next != null) {
    slow = slow.next;
    fast = fast.next.next;
}

return slow;
Python:
slow, fast = head, head.next
while fast != None and fast.next != None:
    slow = slow.next
    fast = fast.next.next

return slow
在上面的程序中，我们将快指针放在第二个节点上，慢指针放在第一个节点上，while 循环中每一次快指针走两步，慢指针走一步。这样当快指针走到头的时候，慢指针就在中点了。
快慢指针的算法，在下一小节的“带环链表”中，也用到了。
一个小练习

将上述代码改为提供接口的模式，即设计一个 class，支持两个函数，一个是 add(node) 加入一个节点，一个是 getMiddle() 求中间的那个节点。

在链表问题中，快慢指针是一个非常常见的做法，这种套路题相信只要大家理解了快慢指针，在面试中就可以游刃有余。现在大家可以自己练习一下我们上课讲的这些题目。（380. 两个链表的交点 这题除了上课讲方法外，还有一种O(1)空间复杂度的方法，大家可以试着想一想，如果实在想不出来，可以在jiuzhang.com/solution中搜索这个问题查看所有解法。

```
